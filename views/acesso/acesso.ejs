<%- include('../partials/head'); %>

<!-- Modal açao -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg" style="display: none;" id="ModalAcao"> </button>
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content" style="padding: 30px;">
      <table class="table table-hover" id="IdTableAcao">
        <thead>
          <tr>
            <td> ID ação</td>
            <td>Descrição</td>
            <td>Executa?</td>
          </tr>
        </thead>
        <tbody id="tabelaacao">

        </tbody>
      </table>
    </div>
  </div>
</div>

  <!-- Modal para inserir  uma tela no sistema-->


<div class="modal fade PRINCIPAL" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado" aria-hidden="true"  >
    <div class="modal-dialog modal-dialog-centered" role="document" >
        <div class="modal-content"   style="width: 900px;min-height: 800px;">
          <div class="modal-body">
            <h5 class="modal-title" id="TituloModalCentralizado">Crie numa tela </h5>

        <input type="text" id="T_NOME" class="form-control mt-3" placeholder="Nome da tela">
        <input type="text" id="T_DESCRICAO" class="form-control mt-3" placeholder="Descrição">
        <input type="text" id="ROTA" class="form-control mt-3" placeholder="Nome da rota get">
        <select  id="TIPO" class="form-control mt-3">
            <option value="">Seleione o tipo de tela</option>
            <option value="R">Tela principal (sem parametro)</option>
            <option value="V">Tela secundaria (requer parametro)</option>
        </select>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
          <button type="button" id="SALVAR" class="btn btn-primary">Salvar mudanças</button>
        </div>
          </div>
          <div class="modal">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            <button type="button" id="SALVAR" class="btn btn-primary">Salvar mudanças</button>
          </div>
          <div class="modal-header">
            <h5 class="modal-title" id="TituloModalCentralizado">Crie uma ação numa tela </h5>

          </div>
          <div class="modal-body">
            <label for="">Nome da ação</label>
           <input type="text" id="NOME_ACAO" class="form-control mt-3" placeholder="Nome da ação na tela">
           <label for="">Observações</label>
           <input type="text" id="OBS" class="form-control mt-3" placeholder="Observações sobre a ação">
           <label >Tela</label>
           <div style="display: flex; flex-direction: row;">
               <input type="number" required id="ID_TELA" name="PRDT_ID_CTG" style="width: 80px;margin-right: 8px;" class="form-control  TddCam">
               <input type="text" required  id="NOME_TELA"  name="PRDT_NOME_CTG" class="form-control  " placeholder="Nome tela" >
           </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            <button type="button" id="CriarAcao" class="btn btn-primary">Salvar mudanças</button>
          </div>
        </div>
      </div>
  </div>
  
<!-- tabela -->
<div style="width: 100%;display: flex;justify-content: center;flex-direction: column;">
  
    <div style="width: 650px;">
        <% let P = P_USU.P_USU %>
        <% let D = P[0] %>
            <input type="hidden" value="">
            <input type="hidden" value="<%=D.ALTERA%>" id="PERMI">
        <div style="display: flex; flex-direction: row;">
            <select  id="TABELA" class="form-control mt-2" style="margin-right: 15px;">
                <option value="">Selecione</option>
                <option value="USU_USUARIO">Usuário</option>
                <option value="GRP_GRUPO">Grupo</option>
            </select>
         <input type="number" required id="ID_USU" style="width: 120px;margin-right: 15px;" class="form-control mt-2 insert" placeholder="Código">
         <input type="text"  id="USU_NOME" class="form-control mt-2 insert" placeholder="Nome do usuario/grupo" style="margin-right: 15px;" >
         <button id="btn" class="btn btn-warning" > Pesquisar</button>

          
        </div>

    </div>

    <div style="margin-left: 30px;margin-right: 30px;">
        <table class="table mt-3 "  contenteditable="false"  >
            <thead>
            <tr> 
                <td>ID</td>
                <td>Nome</td>
                <td>Altera?</td>
                <td>Inclui?</td>
                <td>Exclui?</td>
                <td>Consulta?</td>
                <td id="CollunExecuta">Ações</td>
            </tr>
        </thead>
        <tbody id="tabelaacesso">
            <!--colunas sendo inseridas dinamicamente pelo js-->
        </tbody>
        
        </table>
    </div>

</div>
<script>




</script>

<script src="/js/acesso/usuario.js"></script>
<script type="module" src="/js/acesso/inputs.js"></script>
<script type="module" src="/js/acesso/acesso.js"></script>
<script src="/js/acesso/novatela.js"></script>

<%- include('../partials/footer'); %>